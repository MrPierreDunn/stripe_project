# Django Stripe Project

–ü—Ä–æ–µ–∫—Ç –Ω–∞ Django —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Stripe. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—É—Å–∫ –≤ Docker, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.


## üì¶ –°—Ç–µ–∫

- Python + Django
- PostgreSQL
- Stripe
- Docker / Docker Compose


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-username/stripe_project.git
cd stripe_project
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

```python
DEBUG=True
TEST_DATABASE=False
POSTGRES_DB=django
POSTGRES_USER=root
POSTGRES_PASSWORD=password
DB_HOST=db
DB_PORT=5432
ALLOWED_HOSTS=localhost,127.0.0.1
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
```
```python
SECRET_KEY='secret key' # –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –∑–∞–¥–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –µ–≥–æ –≤ .env
```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `makefile` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

–ë–∏–ª–¥ –æ–±—Ä–∞–∑–∞ –∏ —Å—Ç–∞—Ä—Ç –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
make start
```
–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–∏–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
make migrate
```
–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
make createsuperuser
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã make —Ñ–∞–π–ª–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
```bash
make help
```

## üì° API

### üîê –ê–¥–º–∏–Ω–∫–∞
URL: `/admin/` \
–û–ø–∏—Å–∞–Ω–∏–µ: –î–æ—Å—Ç—É–ø –∫ `–ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞` Django. \

### üìÑ –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞
URL: `/item/{id}/` \
–ú–µ—Ç–æ–¥: `GET` \
–û–ø–∏—Å–∞–Ω–∏–µ: \
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–≤–∞—Ä–µ –∏ –∫–Ω–æ–ø–∫–æ–π `Buy`. \
–ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –∫ `/buy/{id}/` –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `Stripe Checkout`.

### üí≥ –ö—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä
URL: `/buy/{id}/` \
–ú–µ—Ç–æ–¥: `GET` \
–û–ø–∏—Å–∞–Ω–∏–µ: \
–°–æ–∑–¥–∞—ë—Ç Stripe Checkout Session –¥–ª—è –æ–ø–ª–∞—Ç—ã —Ç–æ–≤–∞—Ä–∞ —Å –∑–∞–¥–∞–Ω–Ω—ã–º id. \
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `session.id`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Stripe JS SDK –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Ñ–æ—Ä–º—É –æ–ø–ª–∞—Ç—ã.